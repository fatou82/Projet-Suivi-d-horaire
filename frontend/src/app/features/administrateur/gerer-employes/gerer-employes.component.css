/* --- Structure & Container --- */
.container-fluid { background-color: #f4f7f6; min-height: 100vh; }
.page-title { color: #2c3e50; font-weight: 700; margin-bottom: 30px; }

/* --- Barre d'Action --- */
.action-bar { display: flex; justify-content: space-between; align-items: center; margin-bottom: 25px; gap: 20px; }
.search-container { position: relative; flex: 1; max-width: 500px; }
.search-icon { position: absolute; left: 15px; top: 50%; transform: translateY(-50%); color: #95a5a6; }
.search-input { width: 100%; padding: 12px 15px 12px 45px; border-radius: 12px; border: 1px solid #e0e0e0; }

.btn-add {
  background-color: #3498db; color: white; border: none; padding: 12px 25px;
  border-radius: 10px; font-weight: 600; cursor: pointer; display: flex;
  align-items: center; gap: 10px; transition: all 0.2s;
}
.btn-add:hover { background-color: #2980b9; transform: translateY(-2px); }

/* --- Tableau --- */
.table-responsive { background: white; border-radius: 12px; padding: 15px; box-shadow: 0 4px 12px rgba(0,0,0,0.05); overflow: visible !important; }
.table { width: 100% !important; vertical-align: middle; border-collapse: collapse; }
.table thead th { background-color: #f8faff; color: #606a77; text-transform: uppercase; font-size: 0.95rem; padding: 20px 15px; border: none; font-weight: 700; }
.table tbody tr:hover { background-color: #f3f6fb !important; box-shadow: inset 4px 0 0 #3498db; }
.table td { padding: 20px 15px; vertical-align: middle !important; border-bottom: 1px solid #f1f1f1; }

/* --- Rôles (Nettoyage puces) --- */
.role-dropdown { position: relative; }
.role-display { background-color: #ebf5ff !important; color: #3498db !important; border: 1px solid #d6e9ff !important; font-size: 0.8rem; padding: 8px 12px; border-radius: 6px; width: 100%; text-align: left; display: flex; justify-content: space-between; align-items: center; cursor: pointer; }

.dropdown-menu {
  display: none; position: absolute; top: 100%; left: 0; z-index: 9999 !important;
  min-width: 180px; background-color: #ffffff !important; border: 1px solid #e0e0e0;
  border-radius: 10px; box-shadow: 0 10px 30px rgba(0,0,0,0.2) !important; padding: 12px;
  list-style: none !important;
}
.dropdown-menu li { list-style: none !important; margin: 0; padding: 5px 0; }
.dropdown-menu.show { display: block; animation: fadeIn 0.2s ease-out; }

/* --- Badges & Actions --- */
.status-active { background-color: #d4edda; color: #155724; padding: 6px 12px; border-radius: 8px; font-size: 0.75rem; }
.status-inactive { background-color: #f8d7da; color: #721c24; padding: 6px 12px; border-radius: 8px; font-size: 0.75rem; }

.action-container { display: flex; justify-content: center; align-items: center; gap: 10px; }
.action-icon { width: 36px; height: 36px; border-radius: 10px; display: flex; align-items: center; justify-content: center; border: none; transition: all 0.2s; cursor: pointer; }

.edit-btn { background-color: #fef5e7; color: #f39c12; }
.edit-btn:hover { background-color: #f39c12; color: white; transform: scale(1.1); }

.delete-btn { background-color: #fdedec; color: #e74c3c; }
.delete-btn:hover { background-color: #e74c3c; color: white; transform: scale(1.1); }

/* --- Modal Form Style (ULTRA OPTIMISÉ) --- */
.modal-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(44, 62, 80, 0.6); display: flex; justify-content: center; align-items: center; z-index: 9999; backdrop-filter: blur(2px);}
.modal-card { background: white; width: 95%; max-width: 480px; border-radius: 15px; overflow: visible !important; animation: slideDown 0.3s ease-out;}

.modal-header { background: #f8faff; padding: 12px 20px; display: flex; justify-content: center; align-items: center; position: relative;  border-top-left-radius: 15px; border-top-right-radius: 15px; border-bottom: 1px solid #eee;}
.modal-header h3 { margin: 0; font-size: 1.25rem; color: #2c3e50; font-weight: 700; gap :13px; display: flex; align-items: center; }
.modal-header h3 i { font-size: 1.3rem; color: #3498db;}
.close-btn { position: absolute; right: 20px; top: 50%; transform: translateY(-50%); background: none; border: none; font-size: 1.4rem; color: #95a5a6; cursor: pointer;}
.close-btn:hover { color: #e74c3c; }

.modal-body { padding: 15px 20px; }
.form-label { display: block; margin-bottom: 4px; font-weight: 600; color: #34495e; font-size: 0.8rem; }
.form-input, .form-select { width: 100% !important; box-sizing: border-box; padding: 8px 10px; border: 1px solid #dcdfe6; border-radius: 6px; transition: all 0.2s; font-size: 0.85rem;}
.form-input:focus { outline: none; border-color: #3498db; box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.1); }

.form-row {
  display: flex;
  gap: 12px;
  margin-bottom: 10px;
  width: 100%;
}

.form-group-half { flex: 1; }

.readonly-input { background-color: #f8f9fa !important; color: #7f8c8d !important; cursor: not-allowed; border-color: #eee !important; font-size: 0.8rem !important; }

/* Section Système RÉDUITE */
.system-section { background: #fbfcfe; border: 1px solid #edf2f7; padding: 10px; border-radius: 8px; margin-top: 5px; width: 100%; box-sizing: border-box;}

.modal-footer { padding-top: 10px; display: flex; justify-content: flex-end; gap: 8px; }
.btn-secondary { background: #f4f7f6; color: #7f8c8d; border: none; padding: 8px 15px; border-radius: 6px; font-weight: 600; cursor: pointer; font-size: 0.85rem; }
.btn-primary {
  background: #3498db; color: white; border: none; padding: 8px 20px;
  border-radius: 6px; font-weight: 600; cursor: pointer; transition: background 0.2s; font-size: 0.85rem;
}
.btn-primary:hover { background-color: #2980b9; }

@keyframes fadeIn { from { opacity: 0; transform: translateY(-5px); } to { opacity: 1; transform: translateY(0); } }
@keyframes slideUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }

/* Dans gerer-employes.component.css */
.role-dropdown .dropdown-toggle::after {
  float: right;
  margin-top: 10px;
}

.dropdown-menu.show {
  display: block;
  z-index: 1050; /* Pour passer par-dessus les autres champs du modal */
}

/* ============================================================
   RESPONSIVE : GESTION DES EMPLOYÉS (FIXED)
   ============================================================ */

@media (max-width: 992px) {.table thead th:nth-child(3), .table td:nth-child(3), .table thead th:nth-child(6), .table td:nth-child(6) {display: none; }}
@media (max-width: 768px) { /* 1. Barre d'action verticale */ .action-bar { flex-direction: column; align-items: stretch; gap: 15px; }
  .search-container { max-width: 100%; }
  /* 2. Cache EMAIL, STATUT et RÔLES pour sauver de l'espace */
  /* On garde : Matricule (1), Nom (2), Poste (6) et Action (7) */
  .table thead th:nth-child(3), .table td:nth-child(3), /* Email */
  .table thead th:nth-child(4), .table td:nth-child(4), /* Statut */
  .table thead th:nth-child(5), .table td:nth-child(5)  /* Rôles */ {
    display: none !important;
  }

  .table td, .table th {
    padding: 10px 5px !important;
    font-size: 0.8rem;
  }

  /* 3. Modale qui prend tout l'écran */
  .modal-overlay {
    padding: 10px;
    align-items: flex-start; /* Évite que le haut disparaisse */
    overflow-y: auto;
  }

  .modal-card {
    width: 100%;
    margin-top: 20px;
  }

  .form-row {
    flex-direction: column;
    gap: 0;
  }
}

/* --- Très petits mobiles --- */
@media (max-width: 480px) {
  /* On ne garde que le Matricule et le Nom */
  .table thead th:nth-child(6), .table td:nth-child(6) {
    display: none !important;
  }
}

/* --- Bouton de Filtre (Le Toggle) --- */
.filter-options .btn-filter {
  padding: 10px 18px;
  border-radius: 10px;
  font-weight: 600;
  font-size: 0.85rem;
  transition: all 0.3s ease;
  border: 1px solid #e0e0e0;
  background: white;
  color: #7f8c8d;
  display: flex;
  align-items: center;
  gap: 8px;
  cursor: pointer;
}

/* Style quand on clique (Inactifs affichés) */
.btn-filter.active {
  background-color: #2c3e50;
  color: white;
  border-color: #2c3e50;
  box-shadow: 0 4px 10px rgba(44, 62, 80, 0.2);
}

.btn-filter:hover {
  border-color: #3498db;
  color: #3498db;
}

.btn-filter.active:hover {
  background-color: #34495e;
  color: white;
}

/* --- Bouton Réactiver (Action) --- */
.reactivate-btn {
  background-color: #eafaf1; /* Vert très clair comme les autres */
  color: #27ae60;
}

/* L'icône à l'intérieur du bouton */
.reactivate-btn i {
  display: inline-block; /* Obligatoire pour que la rotation fonctionne */
  transition: transform 0.6s cubic-bezier(0.4, 0, 0.2, 1); /* Animation fluide */
}

/* On s'assure que le bouton réactiver suit la même règle de survol que edit et delete */
.reactivate-btn:hover {
  background-color: #27ae60 !important;
  color: white !important;
  transform: translateY(-3px) scale(1.1);
}

/* Au survol du bouton, on fait tourner l'icône */
.reactivate-btn:hover i {
  transform: rotate(-360deg);
}

/* Optionnel : Griser la ligne quand c'est inactif */
.row-inactive {
  background-color: #f9f9f9 !important;
  opacity: 0.7;
}
.row-inactive td {
  color: #95a5a6;
}
